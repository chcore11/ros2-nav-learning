ğŸ“… 2026-03-02 â€” Day4 ROS2 Full Communication Loop
ğŸ¯ ä»Šæ—¥ç›®æ ‡

å®‰è£… ROS2 Humble

éªŒè¯å®˜æ–¹ demo é€šä¿¡

åˆ›å»ºä¸ªäººå·¥ä½œåŒº

ç¼–å†™è‡ªå®šä¹‰èŠ‚ç‚¹

æµ‹è¯•è¯é¢˜é¢‘ç‡

å¯è§†åŒ–èŠ‚ç‚¹å›¾

ğŸ§± 1. ROS2 å®‰è£…

ç¯å¢ƒï¼š

Ubuntu 22.04 (WSL2)

ROS2 Humble Desktop

éªŒè¯ï¼š

printenv ROS_DISTRO

è¾“å‡ºï¼š

humble

ç¡®è®¤ ROS2 å®‰è£…ä¸ç¯å¢ƒå˜é‡é…ç½®æˆåŠŸã€‚

ğŸ” 2. å®˜æ–¹ Demo éªŒè¯

è¿è¡Œï¼š

ros2 run demo_nodes_cpp talker
ros2 run demo_nodes_cpp listener

éªŒè¯ï¼š

å‘å¸ƒæ­£å¸¸

è®¢é˜…æ­£å¸¸

DDS é€šä¿¡æ­£å¸¸

ç³»ç»Ÿé€šä¿¡é“¾è·¯å·¥ä½œæ­£å¸¸ã€‚

ğŸ—‚ 3. åˆ›å»ºå·¥ä½œåŒº
mkdir -p ~/ros2_ws/src
cd ~/ros2_ws
colcon build

è¾“å‡ºï¼š

Summary: 0 packages finished

è¯´æ˜å·¥ä½œåŒºç»“æ„æ­£å¸¸ã€‚

ğŸ“¦ 4. åˆ›å»ºè‡ªå®šä¹‰ Python åŒ…
cd ~/ros2_ws/src
ros2 pkg create my_py_pkg --build-type ament_python --dependencies rclpy std_msgs

æˆåŠŸç”Ÿæˆï¼š

my_py_pkg/
ğŸ§  5. ç¼–å†™è‡ªå®šä¹‰èŠ‚ç‚¹

åˆ›å»ºï¼š

talker.py

listener.py

å®ç°ï¼š

å‘å¸ƒ topic: /chatter

è®¢é˜… topic: /chatter

ä¿®æ”¹ setup.pyï¼š

entry_points={
    'console_scripts': [
        'talker = my_py_pkg.talker:main',
        'listener = my_py_pkg.listener:main',
    ],
},

ä¿®å¤ï¼š

entry_points é‡å¤å®šä¹‰é—®é¢˜

clean rebuild

é‡æ–°æ„å»ºï¼š

cd ~/ros2_ws
rm -rf build install log
colcon build
source install/setup.bash

è¿è¡ŒéªŒè¯ï¼š

ros2 run my_py_pkg talker
ros2 run my_py_pkg listener

é€šä¿¡æˆåŠŸã€‚

ğŸ“Š 6. è¯é¢˜é¢‘ç‡æµ‹è¯•

é»˜è®¤å‘¨æœŸï¼š

create_timer(1.0)

æµ‹è¯•ï¼š

ros2 topic hz /chatter

ç»“æœï¼š

average rate: 1.000 Hz

éªŒè¯ï¼š

Hz = 1 / period

ä¿®æ”¹å‘¨æœŸï¼š

create_timer(0.2)

é‡æ–° build åæµ‹è¯•ï¼š

average rate: 5.000 Hz
min â‰ˆ 0.199s
max â‰ˆ 0.203s

ç³»ç»ŸæŠ–åŠ¨æå°ï¼Œå®šæ—¶å™¨ç¨³å®šã€‚

ğŸ–¼ 7. rqt_graph å¯è§†åŒ–

è¿è¡Œï¼š

rqt_graph

æ˜¾ç¤ºï¼š

/my_talker  â†’  /chatter  â†’  /my_listener

å®Œæˆï¼š

ä»£ç  â†’ æ³¨å†Œ â†’ æ„å»º â†’ è¿è¡Œ â†’ é€šä¿¡ â†’ å¯è§†åŒ–

å®Œæ•´é—­ç¯ã€‚

ğŸ§  ä»Šæ—¥æ ¸å¿ƒæ”¶è·

ç†è§£ ROS2 èŠ‚ç‚¹æ¨¡å‹

ç†è§£ Topic å‘å¸ƒ/è®¢é˜…æœºåˆ¶

ç†è§£ Timer ä¸ Hz å…³ç³»

æŒæ¡ colcon å·¥ä½œæµ

ç†Ÿæ‚‰ ROS2 CLI å·¥å…·

èƒ½ç‹¬ç«‹æ’æŸ¥ entry_points é—®é¢˜

å®Œæˆä¸€æ¬¡å®Œæ•´ ROS2 é€šä¿¡ç³»ç»Ÿæ„å»º

ğŸš€ çŠ¶æ€è¯„ä¼°

Day4 ä¸åªæ˜¯â€œå®‰è£…æˆåŠŸâ€ï¼Œ
è€Œæ˜¯æˆåŠŸæ„å»ºå¹¶è¿è¡Œä¸€ä¸ªå®Œæ•´ ROS2 åˆ†å¸ƒå¼é€šä¿¡ç³»ç»Ÿã€‚

è¿™æ˜¯ ros2-nav-learning çš„çœŸæ­£èµ·ç‚¹ã€‚

ğŸ“Œ ä¸‹ä¸€æ­¥ï¼ˆDay5ï¼‰

è¿›å…¥ Nav2 ä»¿çœŸç¯å¢ƒ

æˆ–å­¦ä¹  TF åæ ‡ç³»ç»Ÿ

æˆ–å‚æ•°ç³»ç»Ÿæ·±å…¥

